<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Transform Code into Js Bundle | Weex</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Transform Code into Js BundleParagraphs Maintain Your Component Code and Require 3rd Party Libs show us how to write and organize weex code. However, Weex DSL code must be transformed to js bundle so">
<meta property="og:type" content="website">
<meta property="og:title" content="Transform Code into Js Bundle">
<meta property="og:url" content="https://weex.apache.org/v-0.10/guide/how-to/transform-code-into-js-bundle.html">
<meta property="og:site_name" content="Weex">
<meta property="og:description" content="Transform Code into Js BundleParagraphs Maintain Your Component Code and Require 3rd Party Libs show us how to write and organize weex code. However, Weex DSL code must be transformed to js bundle so">
<meta property="og:updated_time" content="2017-06-14T04:08:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Transform Code into Js Bundle">
<meta name="twitter:description" content="Transform Code into Js BundleParagraphs Maintain Your Component Code and Require 3rd Party Libs show us how to write and organize weex code. However, Weex DSL code must be transformed to js bundle so">
  
    <link rel="alternate" href="/atom.xml" title="Weex" type="application/atom+xml">
  
  
    <link rel="icon" href="//gw.alicdn.com/tps/TB1XNqxPXXXXXcSXVXXXXXXXXXX-64-63.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
    <link rel="stylesheet" href="/css/docsearch.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/swiper.min.css">
</head>

<body id="guide" class="lang-en">
  
  <script>
    window.PAGE_TYPE = "guide";
    window.ROOT = "/"
  </script>
  <header id="header">
  <div class="navbar">
    <a id="logo" href="/">
      <img src="//img.alicdn.com/tps/TB1zBLaPXXXXXXeXXXXXXXXXXXX-121-59.svg" />
    </a>
    <div class="main-nav">
      <ul class="links">
        <li><a href="/guide">Guide</a></li>
        <li><a href="/references">References</a></li>
        <li><a href="/guide/contributing.html">Get Involved</a></li>
        <li class="dropdown">
            <a href="javascript:;">Tools</a>
            <ul class="dropdown-menu subnav">
              <li>
                <a href="/playground.html">Playground</a>
              </li>
              <li>
                <a href="/guide/tools/toolkit.html">Weex-toolkit</a>
              </li>
              <li>
                <a href="http://dotwe.org" target="_blank">Code Snippets</a>
              </li>
              <li>
                <a href="https://market.dotwe.org" target="_blank">Market</a>
              </li>
              <li>
                <a href="/guide/tools/plugin.html">Weex Language Plugin</a>
              </li>
            </ul>
        </li>
        <li class="dropdown">
          <a href="javascript:;">Note</a>
          <ul class="dropdown-menu subnav">
            <li>
              <a href="/faq.html">FAQ</a>
            </li>
            <li>
              <a href="/releasenote.html">ReleaseNote</a>
            </li>
          </ul>
        </li>
        <li><a href="/blog">Blog</a></li>
      </ul>
      <ul class="info">
        <li><a href="https://github.com/apache/incubator-weex/" target="_blank"><span class="btn-github iconfont icon-github"></span></a></li>
      </ul>
      <ul class="tools">
        <li>
          <div class="search">
  <form id="search-form" class="search-form"> <!-- 搜索框相关 -->
    <input type="text" id="search-input-header" name="q" results="0" class="form-control search-input" autocomplete="off" autocorrect="off"/>
    <span class="iconfont icon-search"></span>
  </form>
  <div class="results-panel">
  </div>
</div>
        </li>
        <li>
          <div class="dropdown select-lang">
            <a href="javascript:;" class="dropdown-toggle">
              Language
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu pick-lang">
              <li>
                <a href="/v-0.10/guide/how-to/transform-code-into-js-bundle.html" data-lang="en">English</a>
              </li>
              <li>
                <a href="/cn/v-0.10/guide/how-to/transform-code-into-js-bundle.html" data-lang="zh-cn">中文</a>
              </li>
            </ul>
          </div>
        </li>
        <!--<li></li>-->
      </ul>
    </div>
  </div>
  <div id="mobile-nav">
    <a id="logo" href="/">
      <img src="//img.alicdn.com/tps/TB1zBLaPXXXXXXeXXXXXXXXXXXX-121-59.svg" />
    </a>
    <a class="btn-menu"><span class="iconfont icon-nav"></span></a>
  </div>
</header>

  <div id="sidebar" class="">
  <div class="sidebar-menu">
    
      <div class="search">
  <form id="search-form" class="search-form"> <!-- 搜索框相关 -->
    <input type="text" id="search-input-sidebar" name="q" results="0" class="form-control search-input" autocomplete="off" autocorrect="off"/>
    <span class="iconfont icon-search"></span>
  </form>
  <div class="results-panel">
  </div>
</div>
      


<div class="doc-nav-version">
  <select class="versionBtn" stype="/guide">
  
    <option value="2v">v2.x</option>
    <option value="1v" selected>v1.x</option>
  
 </select>
</div>
<div class="summary">
  <h2 class="part-title">
    
      Guide
    
  </h2>
  <ul class="doc-summary">
    
    
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
   
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/index.html" class="sidebar-link  ">Tutorial</a></h3>
        
      </li>
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/syntax/index.html" class="sidebar-link  ">Syntax</a></h3>
        
          <ul class="chapter">
            
              <li>
                <a href="/v-0.10/guide/syntax/data-binding.html" class="sidebar-link  ">Data-Binding</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/style-n-class.html" class="sidebar-link  ">Style &amp; Class</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/events.html" class="sidebar-link  ">Events</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/display-logic.html" class="sidebar-link  ">Display Logic Control</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/render-logic.html" class="sidebar-link  ">Render Logic Control</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/composed-component.html" class="sidebar-link  ">Composed Component</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/id.html" class="sidebar-link  ">Find an Element</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/comm.html" class="sidebar-link  ">Communications</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/config-n-data.html" class="sidebar-link  ">Page Config &amp; Data</a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/how-to/index.html" class="sidebar-link  ">Preview in browser</a></h3>
        
          <ul class="chapter">
            
              <li>
                <a href="/v-0.10/guide/how-to/preview-in-playground-app.html" class="sidebar-link  ">Preview in native</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/customize-a-native-component.html" class="sidebar-link  ">Customize a native Component</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/cuszomize-native-apis.html" class="sidebar-link  ">Customize native APIs</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/debug-with-html5.html" class="sidebar-link  ">Debug in html5 renderer</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/require-3rd-party-libs.html" class="sidebar-link  ">Require 3rd Party Libs</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/transform-code-into-js-bundle.html" class="sidebar-link current ">Transform Code into Js Bundle</a>
              </li>
            
          </ul>
        
      </li>
    
    
  </ul>
</div>
<div class="hostbyaliyun">
  <a href="https://render.alipay.com/p/s/taobaonpm_click/weex_banner_click">
    <img src="https://render.alipay.com/p/s/taobaonpm_click/weex_banner" alt="" width="180px">
  </a>
  <div style="color: #7f8c8d;font-size: 12px;">阿里云赞助</div>
</div>
    
    <a class="btn-close-sidebar iconfont  icon-close"></a>
  </div>
</div>

  <div class="article-wrapper page-layout">
  <div class="doc-nav">
    
    


<div class="doc-nav-version">
  <select class="versionBtn" stype="/guide">
  
    <option value="2v">v2.x</option>
    <option value="1v" selected>v1.x</option>
  
 </select>
</div>
<div class="summary">
  <h2 class="part-title">
    
      Guide
    
  </h2>
  <ul class="doc-summary">
    
    
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
      
      
        
      
    
   
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/index.html" class="sidebar-link  ">Tutorial</a></h3>
        
      </li>
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/syntax/index.html" class="sidebar-link  ">Syntax</a></h3>
        
          <ul class="chapter">
            
              <li>
                <a href="/v-0.10/guide/syntax/data-binding.html" class="sidebar-link  ">Data-Binding</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/style-n-class.html" class="sidebar-link  ">Style &amp; Class</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/events.html" class="sidebar-link  ">Events</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/display-logic.html" class="sidebar-link  ">Display Logic Control</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/render-logic.html" class="sidebar-link  ">Render Logic Control</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/composed-component.html" class="sidebar-link  ">Composed Component</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/id.html" class="sidebar-link  ">Find an Element</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/comm.html" class="sidebar-link  ">Communications</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/syntax/config-n-data.html" class="sidebar-link  ">Page Config &amp; Data</a>
              </li>
            
          </ul>
        
      </li>
    
      <li>
        <h3 class="chapter-title"><a href="/v-0.10/guide/how-to/index.html" class="sidebar-link  ">Preview in browser</a></h3>
        
          <ul class="chapter">
            
              <li>
                <a href="/v-0.10/guide/how-to/preview-in-playground-app.html" class="sidebar-link  ">Preview in native</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/customize-a-native-component.html" class="sidebar-link  ">Customize a native Component</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/cuszomize-native-apis.html" class="sidebar-link  ">Customize native APIs</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/debug-with-html5.html" class="sidebar-link  ">Debug in html5 renderer</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/require-3rd-party-libs.html" class="sidebar-link  ">Require 3rd Party Libs</a>
              </li>
            
              <li>
                <a href="/v-0.10/guide/how-to/transform-code-into-js-bundle.html" class="sidebar-link current ">Transform Code into Js Bundle</a>
              </li>
            
          </ul>
        
      </li>
    
    
  </ul>
</div>
<div class="hostbyaliyun">
  <a href="https://render.alipay.com/p/s/taobaonpm_click/weex_banner_click">
    <img src="https://render.alipay.com/p/s/taobaonpm_click/weex_banner" alt="" width="180px">
  </a>
  <div style="color: #7f8c8d;font-size: 12px;">阿里云赞助</div>
</div>
  </div>
  

<article class="article article-type-guide">
  <div class="article-entry" itemprop="articleBody">
    <header class="article-header">
  
    
      <h1 class="article-title" itemprop="name">
        Transform Code into Js Bundle
      </h1>
    
  
  <time class="article-date" datetime="2017-06-14T04:08:17.000Z">Updated time: 14/06/2017</time>
</header>
    <h1 id="Transform-Code-into-Js-Bundle" class="article-heading"><a href="#Transform-Code-into-Js-Bundle" class="headerlink" title="Transform Code into Js Bundle"></a>Transform Code into Js Bundle<a class="article-anchor" href="#Transform-Code-into-Js-Bundle" aria-hidden="true"></a></h1><p>Paragraphs Maintain Your Component Code and <a href="./require-3rd-party-libs.html">Require 3rd Party Libs</a> show us how to write and organize weex code. However, Weex DSL code must be transformed to <code>js bundle</code> so that <code>js framework</code> can parse and execute it for iOS, Android and HTML5 portal. For more information, please refer to <a href="../../advanced/how-it-works.html">How It Works
</a> and <a href="../../references/specs/js-bundle-format.html">JS Bundle Format</a>.</p>
<p>Now come back to the topic <code>transform code into js bundle</code>. There are several ways to achieve the goal.</p>
<h2 id="weex-toolkit" class="article-heading"><a href="#weex-toolkit" class="headerlink" title="weex-toolkit"></a>weex-toolkit<a class="article-anchor" href="#weex-toolkit" aria-hidden="true"></a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install -g weex-toolkit</div></pre></td></tr></table></figure>
<h3 id="transform-a-we-file-to-JS-Bundle" class="article-heading"><a href="#transform-a-we-file-to-JS-Bundle" class="headerlink" title="transform a we file to JS Bundle"></a>transform a <code>we file</code> to JS Bundle<a class="article-anchor" href="#transform-a-we-file-to-JS-Bundle" aria-hidden="true"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ weex your_best_weex.we  -o .</div></pre></td></tr></table></figure>
<p><code>your_best_weex.we</code> will be transform to JS Bundle file <code>your_best_weex.js</code> , saved in your current directory</p>
<h3 id="transform-a-we-file-to-JS-Bundle-watch-this-file-，auto-run-transformer-if-change-happen" class="article-heading"><a href="#transform-a-we-file-to-JS-Bundle-watch-this-file-，auto-run-transformer-if-change-happen" class="headerlink" title="transform a we file to JS Bundle , watch this file ，auto run transformer if change happen."></a>transform a <code>we file</code> to JS Bundle , watch this file ，auto run transformer if change happen.<a class="article-anchor" href="#transform-a-we-file-to-JS-Bundle-watch-this-file-，auto-run-transformer-if-change-happen" aria-hidden="true"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ weex your_best_weex.we  -o . --watch</div></pre></td></tr></table></figure>
<h3 id="transform-every-we-file-in-a-directory" class="article-heading"><a href="#transform-every-we-file-in-a-directory" class="headerlink" title="transform every we file in a directory"></a>transform every we file in a directory<a class="article-anchor" href="#transform-every-we-file-in-a-directory" aria-hidden="true"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ weex we/file/storage/path  -o outputpath</div></pre></td></tr></table></figure>
<p>every <code>we file</code> in <code>we/file/storage/path</code> will be transformed to JS Bundle  , saved in <code>outputpath</code> path</p>
<p>please access <a href="https://www.npmjs.com/package/weex-toolkit" target="_blank" rel="external">npmjs.com</a> for more information about weex-toolkit.</p>
<h2 id="transformer" class="article-heading"><a href="#transformer" class="headerlink" title="transformer"></a>transformer<a class="article-anchor" href="#transformer" aria-hidden="true"></a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install weex-transformer</div></pre></td></tr></table></figure>
<h3 id="CLI-Tool" class="article-heading"><a href="#CLI-Tool" class="headerlink" title="CLI Tool"></a>CLI Tool<a class="article-anchor" href="#CLI-Tool" aria-hidden="true"></a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">Usage: transformer [options] &lt;file...&gt;</div><div class="line"></div><div class="line">Options:</div><div class="line"></div><div class="line">  -h, --<span class="built_in">help</span>               output usage information</div><div class="line">  -V, --version            output the version number</div><div class="line">  -l, --oldFormat [value]  whether to transform to old format (default: <span class="literal">false</span>)</div><div class="line">  -e, --isEntry [value]    whether is an entry module <span class="built_in">which</span> has `bootstrap` (default: <span class="literal">true</span>)</div><div class="line">  -o, --output [path]      the output file dirname</div></pre></td></tr></table></figure>
<h3 id="API" class="article-heading"><a href="#API" class="headerlink" title="API"></a>API<a class="article-anchor" href="#API" aria-hidden="true"></a></h3><p><strong> transform(name, code, path, elements, config) </strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> transformer = <span class="built_in">require</span>(<span class="string">'weex-transformer'</span>)</div><div class="line"><span class="keyword">var</span> output = transformer.transform(<span class="string">'foo'</span>, <span class="string">'/* code here */'</span>, <span class="string">'.'</span>, &#123;&#125;)</div></pre></td></tr></table></figure>
<p>params:</p>
<ul>
<li><code>name</code>: string, current bundle name</li>
<li><code>code</code>: string, source code</li>
<li><code>path</code>: string <em>optional</em>, useful when find custom component in a certain path</li>
<li><code>elements</code>: object <em>optional</em>, existed custom component map</li>
<li><code>config</code>: object <em>optional</em><ul>
<li><code>oldFormat</code>: whether to transform to old format (default: false)</li>
<li><code>isEntry</code>: whether is an entry module which has <code>bootstrap</code> (default: true)</li>
</ul>
</li>
</ul>
<p>returns:</p>
<ul>
<li>an object with keys<ul>
<li><code>result</code>: string, all custom components <code>define()</code> and final <code>bootstrap()</code></li>
<li><code>logs</code>: array, corresponding warning &amp; error logs</li>
</ul>
</li>
</ul>
<h2 id="gulp-weex" class="article-heading"><a href="#gulp-weex" class="headerlink" title="gulp weex"></a>gulp weex<a class="article-anchor" href="#gulp-weex" aria-hidden="true"></a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install gulp-weex</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>)</div><div class="line"><span class="keyword">var</span> weex = <span class="built_in">require</span>(<span class="string">'gulp-weex'</span>)</div><div class="line"></div><div class="line">gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'src/*.html'</span>)</div><div class="line">    .pipe(weex(&#123;&#125;))</div><div class="line">    .pipe(gulp.dest(<span class="string">'./dest'</span>))</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Options:</p>
<ul>
<li><code>oldFormat</code>: whether to transform to old format (default: false)</li>
<li><code>isEntry</code>: whether is an entry module which has <code>bootstrap</code> (default: true)</li>
</ul>

  </div>
  
  <footer id="footer">
  <div class="row clearfix">
    <div class="dropdown select-lang">
      <a href="javascript:;" class="dropdown-toggle">
        Language
        <span class="caret"></span>
      </a>
      <ul class="dropdown-menu pick-lang">
        <li>
          <a href="/v-0.10/guide/how-to/transform-code-into-js-bundle.html" data-lang="en">English</a>
        </li>
        <li>
          <a href="/cn/v-0.10/guide/how-to/transform-code-into-js-bundle.html" data-lang="zh-cn">中文</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="disclaimer">
    <div><img src="//gw.alicdn.com/tfs/TB1pTBZQFXXXXX9XXXXXXXXXXXX-794-280.png" width="200px" alt="Apache Incubator"></div>
    <div><span class="title">Disclaimer:</span> Apache Weex is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</div>
    <br/>
  </div>
  <hr>
  <div class="row">
    <p> <img src="//gw.alicdn.com/tfs/TB1bg8SQFXXXXcHXXXXXXXXXXXX-85-170.png" height="50px" alt="Apache"><span>Copyright(c) 2017 The Apache Software Foundation. Licensed under the </span> <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a></p>
  </div>
  <div class="row clearfix">
    <div></div>
  </div>
</footer>

  <div style="display: none;">
  <script src="//s95.cnzz.com/z_stat.php?id=1261496509&web_id=1261496509" language="JavaScript"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-104559823-1', 'auto');
  ga('send', 'pageview');

</script>
</div>

</article>
</div>
  
  <script src="/js/reqwest.js"></script>
  <script src="/js/common.js"></script>
      
    
    
    <script src="/js/docsearch.min.js"></script>
    <script type="text/javascript">
    docsearch({
      apiKey: "a6896fe3619315a7f04e9a76bbbbbfcb",
      indexName: "weex",
      inputSelector: '#search-input-header',
      algoliaOptions: {
        hitsPerPage: 10
      }
    });
    </script>
  
</body>
</html>
